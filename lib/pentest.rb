require "pentest/version"
require "pentest/runner"
require 'pentest/logger'

module Pentest
  class Error < StandardError; end

  #Run Pentest scan. Returns Tracker object.
  #
  #Options:
  #
  #  * :app_path - path to root of Rails app (required)
  #
  #Alternatively, just supply a path as a string.

  class << self
    def run options
      Logger.info "launched"

      Logger.info "Rails project loading..."
      app_path = File.expand_path(options[:app_path])

      require File.expand_path('config/environment', app_path)
    end
  end
end
