require 'pentest/endpoint'

module Pentest
  class Runner
    def initialize
      @routes = ::Rails.application.routes.routes
    end

    def run
      @endpoints = @routes.map do |route|
        endpoint = Endpoint.new(route)
        if endpoint.valid?
          endpoint
        end
      end
      pp @endpoints
    end
  end
end