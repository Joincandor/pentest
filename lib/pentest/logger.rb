require 'date'
require 'term/ansicolor'

module Pentest
  module Logger
    PADDING = ' ' * 10

    class << self
      def debug(text, timestamp: true)
        puts "#{time(timestamp)} #{Term::ANSIColor.blue(text)}"
      end

      def info(text, timestamp: true)
        puts "#{time(timestamp)} #{Term::ANSIColor.green(text)}"
      end

      def time(enabled = true)
        return PADDING unless enabled
        now = Time.now
        "[#{now.strftime("%H:%M:%S")}]"
      end

      def start_progress
        print PADDING + ' '
      end

      def put_progress(char)
        print char
      end

      def end_progress
        print "\n"
      end
    end
  end
end